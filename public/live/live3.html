<!DOCTYPE html>
<html>
<head>
   <meta charset="UTF-8">
   <title>直播页面</title>
   <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
   <script src="flv.min.js"></script>
   <script src="../gethead.js"></script>
   <div id="header"></div>
   <br><br><br>
   <h1 style="text-align: center;">朝外2022级学生会直播平台</h1>
   <br>
   <div id="but">
        <button class="button center" id="button" onclick="playflv()"><b>观看直播</b></button>
   </div>
   <br>
   <video id="videoElement" style="display: block; margin: auto;" width="60%" controls></video>
   <script>
    function playflv(){
        document.getElementById('but').style.visibility='hidden';
        if (flvjs.isSupported()) {
           var videoElement = document.getElementById('videoElement');
           var flvPlayer = flvjs.createPlayer({
               type: 'flv',
               url: 'http://cyxsh.top:1308/live/video.flv'
           });
           flvPlayer.attachMediaElement(videoElement);
           flvPlayer.load();
           flvPlayer.play();
       }
    }  
   </script>
</body>
</html>